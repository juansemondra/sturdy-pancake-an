<nav class="sidebar">
  <!-- Título cuando no hay usuario autenticado -->
  <div *ngIf="!authService.isAuthenticated()" class="sidebar-title">
    <h1>TRANSMILENIO</h1>
  </div>

  <!-- Resto del menú solo visible cuando hay usuario autenticado -->
  <ng-container *ngIf="authService.isAuthenticated()">
    <!-- Dashboard - solo visible para COORDINADOR -->
    <div
      *ngIf="isCoordinador()"
      class="sidebar-item"
      routerLink="/dashboard"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <div class="icon">
        <!-- SVG icono de Dashboard -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24px"
          height="24px"
          fill="currentColor"
          viewBox="0 0 256 256"
        >
          <path
            d="M218.83,103.77l-80-75.48a1.14,1.14,0,0,1-.11-.11,16,16,0,0,0-21.53,0l-.11.11L37.17,103.77A16,16,0,0,0,32,115.55V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V160h32v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V115.55A16,16,0,0,0,218.83,103.77ZM208,208H160V160a16,16,0,0,0-16-16H112a16,16,0,0,0-16,16v48H48V115.55l.11-.1L128,40l79.9,75.43.11.1Z"
          ></path>
        </svg>
      </div>
      <span class="label">Dashboard</span>
    </div>

    <!-- Bus Management - solo visible para COORDINADOR -->
    <div
      *ngIf="isCoordinador()"
      class="sidebar-item"
      routerLink="/buses"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <div class="icon">
        <!-- SVG icono de Bus Management -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24px"
          height="24px"
          fill="currentColor"
          viewBox="0 0 256 256"
        >
          <path
            d="M184,32H72A32,32,0,0,0,40,64V208a16,16,0,0,0,16,16H80a16,16,0,0,0,16-16V192h64v16a16,16,0,0,0,16,16h24a16,16,0,0,0,16-16V64A32,32,0,0,0,184,32ZM56,176V120H200v56Zm0-96H200v24H56ZM72,48H184a16,16,0,0,1,16,16H56A16,16,0,0,1,72,48Zm8,160H56V192H80Zm96,0V192h24v16Zm-72-60a12,12,0,1,1-12-12A12,12,0,0,1,104,148Zm72,0a12,12,0,1,1-12-12A12,12,0,0,1,176,148Zm72-68v24a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0ZM24,80v24a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Z"
          ></path>
        </svg>
      </div>
      <span class="label">Bus Management</span>
    </div>

    <!-- Driver Management - solo visible para COORDINADOR -->
    <div
      *ngIf="isCoordinador()"
      class="sidebar-item"
      routerLink="/conductores"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <div class="icon">
        <!-- SVG icono de Driver Management -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24px"
          height="24px"
          fill="currentColor"
          viewBox="0 0 256 256"
        >
          <path
            d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"
          ></path>
        </svg>
      </div>
      <span class="label">Driver Management</span>
    </div>

    <!-- Trip Management - visible para ADMIN_RUTAS -->
    <div
      *ngIf="isAdminRutas()"
      class="sidebar-item"
      routerLink="/rutas"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <div class="icon">
        <!-- SVG icono de Trip Management -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24px"
          height="24px"
          fill="currentColor"
          viewBox="0 0 256 256"
        >
          <path
            d="M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM104,52.94l48,24V203.06l-48-24ZM40,62.25l48-12v127.5l-48,12Zm176,131.5-48,12V78.25l48-12Z"
          ></path>
        </svg>
      </div>
      <span class="label">Trip Management</span>
    </div>

    <!-- Logout Button - solo visible cuando hay usuario autenticado -->
    <div class="sidebar-item" (click)="logout()">
      <div class="icon">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24px"
          height="24px"
          fill="currentColor"
          viewBox="0 0 256 256"
        >
          <path
            d="M208,128a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H56a8,8,0,0,1,0-16h56V88a8,8,0,0,1,16,0v56h64A8,8,0,0,1,208,128Z"
          ></path>
          <path
            d="M224,48H160a16,16,0,0,0-16,16v32h16a8,8,0,0,1,0,16H144v32h16a8,8,0,0,1,0,16H144v32a16,16,0,0,0,16,16h64a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,64H160V64h64Z"
          ></path>
        </svg>
      </div>
      <span class="label">Cerrar Sesión</span>
    </div>
  </ng-container>
</nav>
